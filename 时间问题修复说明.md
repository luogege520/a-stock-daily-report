# â° æ—¶é—´é—®é¢˜ä¿®å¤è¯´æ˜

## ğŸ”´ é—®é¢˜ç¡®è®¤

æ‚¨å®Œå…¨æ­£ç¡®ï¼æˆ‘ä¹‹å‰ç†è§£é”™äº†ã€‚

### å®é™…æƒ…å†µ

- **æ‚¨çš„è¿è¡Œæ—¶é—´**ï¼š2026-01-28 18:25ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
- **æŠ¥å‘Šæ˜¾ç¤ºæ—¶é—´**ï¼š2026-01-28 10:25:07
- **æ—¶é—´å·®**ï¼š8å°æ—¶

**ç»“è®º**ï¼šæŠ¥å‘Šä¸­çš„æ—¶é—´æ˜¯ **UTC æ—¶é—´**ï¼Œä¸æ˜¯åŒ—äº¬æ—¶é—´ï¼

---

## ğŸ” é—®é¢˜åŸå› 

### GitHub Actions ç¯å¢ƒ

GitHub Actions çš„ Ubuntu æœåŠ¡å™¨é»˜è®¤ä½¿ç”¨ **UTC æ—¶åŒº**ã€‚

**åŸä»£ç **ï¼š
```python
'è·å–æ—¶é—´': datetime.now().strftime("%Y-%m-%d %H:%M:%S")
```

`datetime.now()` åœ¨ UTC ç¯å¢ƒä¸­è¿”å› UTC æ—¶é—´ã€‚

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®æ”¹ 1ï¼šfetch_data.py

**ä¿®æ”¹å¯¼å…¥**ï¼š
```python
from datetime import datetime, timezone, timedelta
```

**ä¿®æ”¹æ—¶é—´è·å–**ï¼š
```python
# è·å–åŒ—äº¬æ—¶é—´
beijing_tz = timezone(timedelta(hours=8))
beijing_time = datetime.now(beijing_tz).strftime("%Y-%m-%d %H:%M:%S")

market_data = {
    'è·å–æ—¶é—´': beijing_time,  # ä½¿ç”¨åŒ—äº¬æ—¶é—´
    ...
}
```

### ä¿®æ”¹ 2ï¼šgenerate_report.py

**ä¿®æ”¹å¯¼å…¥**ï¼š
```python
from datetime import datetime, timezone, timedelta
```

**ä¿®æ”¹æŠ¥å‘Šæ—¶é—´**ï¼š
```python
**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**ï¼š{datetime.now(timezone(timedelta(hours=8))).strftime("%Y-%m-%d %H:%M:%S")} (åŒ—äº¬æ—¶é—´)
```

---

## ğŸ§ª éªŒè¯ä¿®å¤

### æµ‹è¯•ä»£ç 

```python
from datetime import datetime, timezone, timedelta

# UTC æ—¶é—´
utc_time = datetime.now(timezone.utc)
print(f"UTC æ—¶é—´: {utc_time.strftime('%Y-%m-%d %H:%M:%S')}")

# åŒ—äº¬æ—¶é—´
beijing_tz = timezone(timedelta(hours=8))
beijing_time = datetime.now(beijing_tz)
print(f"åŒ—äº¬æ—¶é—´: {beijing_time.strftime('%Y-%m-%d %H:%M:%S')}")
```

**é¢„æœŸè¾“å‡º**ï¼ˆå¦‚æœ UTC æ˜¯ 10:25ï¼‰ï¼š
```
UTC æ—¶é—´: 2026-01-28 10:25:07
åŒ—äº¬æ—¶é—´: 2026-01-28 18:25:07
```

---

## ğŸ“Š ä¿®å¤å‰åå¯¹æ¯”

### âŒ ä¿®å¤å‰

**æŠ¥å‘Šæ˜¾ç¤º**ï¼š
```
æ•°æ®è·å–æ—¶é—´ï¼š2026-01-28 10:25:07
æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š2026-01-28 10:30:15
```

**å®é™…åŒ—äº¬æ—¶é—´**ï¼š18:25

**é—®é¢˜**ï¼šæ—¶é—´å·®äº† 8 å°æ—¶ï¼

### âœ… ä¿®å¤å

**æŠ¥å‘Šæ˜¾ç¤º**ï¼š
```
æ•°æ®è·å–æ—¶é—´ï¼š2026-01-28 18:25:07
æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š2026-01-28 18:30:15 (åŒ—äº¬æ—¶é—´)
```

**å®é™…åŒ—äº¬æ—¶é—´**ï¼š18:25

**æ­£ç¡®**ï¼šæ—¶é—´ä¸€è‡´ï¼âœ…

---

## ğŸ“¤ ä¸Šä¼ åˆ° GitHub

æ–‡ä»¶å·²ä¿®å¤ï¼Œéœ€è¦é‡æ–°ä¸Šä¼ ï¼š

### å¿«é€Ÿä¸Šä¼ å‘½ä»¤

```bash
cd D:\é˜¶è·ƒAI
git clone https://github.com/YOUR_USERNAME/a-stock-daily-report.git temp-upload
cd temp-upload
copy "..\a-stock-daily-report\fetch_data.py" . /Y
copy "..\a-stock-daily-report\generate_report.py" . /Y
git add .
git commit -m "Fix: Use Beijing time instead of UTC"
git push
cd ..
rmdir /S /Q temp-upload
```

---

## ğŸ¯ å…¶ä»–é—®é¢˜åˆ†æ

### é—®é¢˜ 1ï¼šæ•°æ®ä¸å®Œæ•´ï¼ˆå·²è§£é‡Šï¼‰

**æ‚¨è¿è¡Œæ—¶é—´**ï¼š18:25ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
**å¸‚åœºçŠ¶æ€**ï¼šå·²æ”¶ç›˜ï¼ˆ15:00 æ”¶ç›˜ï¼‰

**ä¸ºä»€ä¹ˆæ•°æ®è¿˜æ˜¯ä¸å®Œæ•´**ï¼š

1. **æ¶¨è·Œå®¶æ•° 0/0**ï¼š
   - å¯èƒ½æ˜¯ AkShare æ¥å£é—®é¢˜
   - å¯èƒ½éœ€è¦ç­‰å¾…æ•°æ®æ›´æ–°
   - å»ºè®® 21:00 åè¿è¡Œ

2. **æ¿å—æ•°æ®ä¸ºç©º**ï¼š
   - åŒä¸Š

3. **èµ„é‡‘æµå‘ä¸ºç©º**ï¼š
   - åŒä¸Š

**å»ºè®®**ï¼š
- ç­‰åˆ° 21:00 åå†è¿è¡Œ
- æˆ–è€…æ£€æŸ¥ AkShare æ¥å£æ˜¯å¦æ­£å¸¸

### é—®é¢˜ 2ï¼šAI æœåŠ¡ä¸å¯ç”¨

**æŠ¥å‘Šæ˜¾ç¤º**ï¼š`AI service is temporarily unavailable`

**éœ€è¦æ£€æŸ¥**ï¼š
```bash
echo %STEPFUN_API_KEY%
```

**å¦‚æœä¸ºç©º**ï¼š
```bash
setx STEPFUN_API_KEY "sk-ä½ çš„å¯†é’¥"
```

---

## ğŸ“ å®Œæ•´çš„ä¿®å¤æ¸…å•

- [x] ä¿®å¤ fetch_data.py æ—¶é—´é—®é¢˜
- [x] ä¿®å¤ generate_report.py æ—¶é—´é—®é¢˜
- [x] æ·»åŠ "åŒ—äº¬æ—¶é—´"æ ‡æ³¨
- [ ] ä¸Šä¼ åˆ° GitHub
- [ ] æµ‹è¯•è¿è¡Œ
- [ ] éªŒè¯æ—¶é—´æ­£ç¡®

---

## ğŸ™ æ„Ÿè°¢æŒ‡æ­£

éå¸¸æ„Ÿè°¢æ‚¨çš„ç»†å¿ƒå‘ç°å’Œçº æ­£ï¼

æ‚¨çš„åˆ†æå®Œå…¨æ­£ç¡®ï¼š
- âœ… æŠ¥å‘Šæ—¶é—´æ˜¯ UTC æ—¶é—´
- âœ… ä¸åŒ—äº¬æ—¶é—´å·® 8 å°æ—¶
- âœ… éœ€è¦è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´

é—®é¢˜å·²ä¿®å¤ï¼

---

**ç°åœ¨æ—¶é—´ä¼šæ­£ç¡®æ˜¾ç¤ºåŒ—äº¬æ—¶é—´äº†ï¼** â°
